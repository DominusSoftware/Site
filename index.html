<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dominus Software</title>
  <link rel="icon" href="/Images/Design_sem_nome-removebg-preview (1).png" type="image/x-icon" />

  <!-- Fonte -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,200;0,300;0,600;0,800;1,100&display=swap"
    rel="stylesheet" />

  <style>
    /* =================== RESET & BASE =================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background-image: linear-gradient(180deg,
          #141e52 0%,
          #121630 50%,
          #00051e 100%);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      flex-direction: column;
      font-family: "Montserrat", system-ui, Segoe UI, Roboto, Arial,
        sans-serif;
      width: 100%;
      color: #fff;
      overflow-x: hidden;
    }

    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #00051e;
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.7);
      border-radius: 30px;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    button {
      cursor: pointer;
    }

    /* =================== CORES =================== */
    :root {
      --azul-escuro: #00051e;
      --azul: #141e52;
      --azul-2: #030d44;
      --amarelo: #e3af11;
      --amarelo-2: #efc11c;
      --amarelo-3: #fbcb1f;
      --verde: #23c166;
      --verde-2: #028036;
      --ciano: #03acf2;
      --branco: #ffffff;
      --preto: #010118;
    }

    /* =================== UTIL =================== */
    .destaque {
      color: var(--amarelo);
      text-decoration: underline;
      text-decoration-color: rgba(227, 175, 17, 0.45);
      text-underline-offset: 0.18em;
      font-weight: 800;
    }

    .muted {
      opacity: 0.9;
    }

    .readable {
      line-height: 1.65;
      letter-spacing: 0.2px;
    }

    /* =================== BARRA PARCEIROS =================== */
    .parceiros {
      background-color: var(--verde);
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 3vh;
    }

    .parceirosButton {
      position: relative;
      width: 100%;
    }

    .parceirosButton a {
      position: absolute;
      inset: auto 50% auto auto;
      transform: translateX(50%);
      top: 4px;
      z-index: 3;
    }

    .parceirosButton button {
      background: var(--verde);
      border: none;
      border-radius: 20px;
      padding: 6px 18px;
      color: #fff;
      font-weight: 700;
      text-transform: uppercase;
    }

    .parceirosButton button:hover {
      background: var(--verde-2);
      color: #fff;
    }

    /* =================== HEADER / MENU =================== */
    header.menu-global {
      position: sticky;
      top: 0;
      z-index: 10;
      width: 100%;
      display: flex;
      justify-content: center;
      background: var(--azul-escuro);
      border-radius: 0 0 50px 50px;
    }

    nav.menu {
      width: min(1200px, 95%);
      display: grid;
      grid-template-columns: auto 1fr auto;
      /* logo | links | suporte */
      align-items: center;
      gap: 10px;
      padding: 14px 10px;
      position: relative;
    }

    .menu .brand img {
      width: 120px;
      height: auto;
      display: block;
    }

    .hamburger {
      display: none;
      border: none;
      background: transparent;
      font-size: 24px;
      line-height: 1;
      padding: 6px 8px;
      border-radius: 8px;
      color: #fff;
    }

    .hamburger:focus-visible {
      outline: 2px solid var(--amarelo);
    }

    /* Links centrais (desktop) */
    .menu-links {
      list-style: none;
      display: flex;
      align-items: center;
      gap: 20px;
      justify-content: center;
    }

    .menu a.links {
      padding: 8px 6px;
      transition: 0.2s;
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    .menu a.links:focus-visible {
      outline: 2px solid var(--amarelo);
      border-radius: 8px;
    }

    .menu a.links:hover {
      color: #b3e5fc;
      box-shadow: 0 2px 0 0 currentcolor;
    }

    /* Botão suporte (direita) */
    .menu .suporte-wrapper {
      display: block;
    }

    /* Botão Suporte preso à direita no desktop */
    .menu .suporte-wrapper {
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      display: none;
      /* mobile mostra dentro do toggle */
    }

    .menu-toggle {
      display: none;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }

    .menu-title {
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 800;
      text-transform: uppercase;
    }

    .menu-toggle .menubuttons {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .menu-toggle .logoMobile img {
      width: 110px;
    }

    .menu-links {
      list-style: none;
      display: flex;
      align-items: center;
      gap: 20px;
      width: 100%;
      justify-content: center;
      /* CENTRALIZAÇÃO */
    }

    .menu-links .logo img {
      width: 100px;
    }

    .menu a.links {
      padding: 8px 6px;
      transition: 0.2s;
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    .menu a.links:focus-visible {
      outline: 2px solid var(--amarelo);
      border-radius: 8px;
    }

    .menu a.links:hover {
      color: #b3e5fc;
      box-shadow: 0 2px 0 0 currentcolor;
    }

    .suporte {
      border: none;
      background: var(--amarelo);
      color: #111;
      border-radius: 999px;
      height: 36px;
      padding: 0 16px;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 900;
    }

    .suporte:hover {
      background: #c78f00;
      color: #111;
    }

    /* =================== HERO =================== */
    #inicio {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 28px;
      padding-top: 18vh;
      min-height: 92vh;
      text-align: center;
    }

    .slogan h1 {
      font-size: clamp(24px, 2.6vw, 42px);
      font-weight: 900;
      line-height: 1.2;
    }

    .slogan .tec {
      color: var(--amarelo);
    }

    .cont-inicio {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 32px;
      flex-wrap: wrap;
    }

    .cont-inicio img {
      width: min(680px, 90vw);
    }

    .frase {
      width: min(560px, 90vw);
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .frase p {
      background: var(--ciano);
      color: #02131c;
      padding: 22px;
      border-radius: 38px;
      font-size: 16px;
      text-align: left;
      font-weight: 700;
      box-shadow: 0 8px 22px rgba(3, 172, 242, 0.18);
    }

    .frase .contate button {
      background: var(--amarelo);
      color: #111;
      border-radius: 999px;
      padding: 12px 18px;
      border: none;
      font-size: 18px;
      font-weight: 900;
    }

    .frase .contate button:hover {
      background: #c78f00;
    }

    .saberMais {
      font-size: 14px;
      opacity: 0.9;
    }

    .seta img {
      width: 30px;
    }

    /* =================== DESTAQUES =================== */
    .serv {
      display: flex;
      gap: 10px;
      width: min(1100px, 90vw);
      position: relative;
      margin-top: -8vh;
      z-index: 2;
      flex-wrap: wrap;
      justify-content: center;
    }

    .serv section {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 18px 22px;
      border-radius: 16px;
      min-width: 260px;
      flex: 1;
      color: #fff;
    }

    .serv img {
      width: 42px;
      height: 42px;
    }

    .PrePago {
      background-image: linear-gradient(180deg, #2994fb 0%, #044b8e 100%);
    }

    .Certif {
      background-image: linear-gradient(180deg, #2dd473 0%, #028036 100%);
    }

    .Suport {
      background-image: linear-gradient(180deg, #fbcb1f 0%, #c78f00 100%);
      color: #111;
    }

    /* =================== SERVIÇOS =================== */
    #servicos {
      background-image: url("/Images/telaServicos.png");
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 60px 0;
    }

    .nossosServ {
      text-align: center;
    }

    .conhecaServ {
      font-size: 20px;
    }

    .conServ {
      color: var(--amarelo);
      font-size: clamp(28px, 5vw, 50px);
      text-transform: uppercase;
    }

    .descricaoServicos {
      width: min(1100px, 92vw);
      display: flex;
      justify-content: center;
    }

    .contServ {
      width: 100%;
    }

    .box {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      color: #030d44;
    }

    .box .box-item {
      background: #fff;
      cursor: pointer;
      width: 180px;
      height: 160px;
      border-radius: 14px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 12px;
      position: relative;
      transition: 0.2s;
      text-align: center;
    }

    .box .box-item:hover {
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18);
      transform: translateY(-2px);
    }

    .box .box-item img {
      height: 70px;
      margin-bottom: 6px;
    }

    .box .box-item h4 {
      color: #05133a;
      font-size: 14px;
      margin-bottom: 6px;
      font-weight: 900;
      letter-spacing: 0.2px;
    }

    .box .box-item p {
      color: #23325e;
      font-size: 12px;
      line-height: 1.35;
      padding: 0 4px;
    }

    .box .selected {
      order: -1;
      width: 100%;
      min-height: 140px;
      padding: 18px;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
    }

    .box .selected p {
      color: #030d44;
      font-size: 14px;
      text-align: center;
      padding: 0 12px;
    }

    /* =================== DECOR =================== */
    .vetorAm {
      position: absolute;
      top: 175vh;
      right: 0;
      z-index: 1;
    }

    .vetorAm img {
      max-height: 30vh;
      opacity: 0.6;
    }

    /* =================== PLANOS =================== */
    #planos {
      background: #fff;
      color: #141e52;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 60px 0;
      gap: 20px;
    }

    .tituloPl {
      width: min(1100px, 92vw);
      line-height: 1;
    }

    .plOpac {
      font-size: 56px;
      text-transform: uppercase;
      color: #141e52;
      opacity: 0.15;
    }

    .pltit {
      font-size: 28px;
      padding-left: 3vw;
    }

    .contDiv {
      width: min(1100px, 92vw);
    }

    .divisoria {
      background: #141e52;
      width: 350px;
      height: 15px;
      border-radius: 0 20px 20px 0;
      margin-top: 12px;
    }

    .valorPlanos {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      width: 100%;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .bronze {
      height: 320px;
    }

    .prata {
      height: 420px;
    }

    .ouro {
      height: 520px;
    }

    .bronze:hover,
    .prata:hover,
    .ouro:hover {
      transform: scale(1.06);
      border-radius: 20px;
      transition: 0.3s;
    }

    .msgTeste {
      background: #19ad57;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      padding: 10px 16px;
      border-radius: 20px 20px 0 20px;
      width: min(520px, 90vw);
    }

    .msgTeste img {
      width: 28px;
    }

    /* =================== CONTATO =================== */
    #contato {
      background-image: linear-gradient(to right,
          var(--amarelo-2) 0,
          var(--amarelo-2) 40%,
          var(--azul-2) 40%,
          var(--azul-2) 60%);
      width: 100%;
      min-height: 120vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 80px 0;
    }

    .vetorAzul {
      position: absolute;
      left: 0;
      max-height: 60vh;
      opacity: 0.5;
      transform: translateY(-20px);
    }

    .conteudoCont {
      width: min(1100px, 92vw);
      display: flex;
      flex-direction: column;
      gap: 26px;
    }

    .titCont {
      font-size: 32px;
      color: var(--amarelo-3);
      font-weight: 700;
      padding-left: 12px;
      text-transform: uppercase;
    }

    .infoForm {
      display: flex;
      gap: 40px;
      align-items: flex-start;
      flex-wrap: wrap;
    }

    .LocInf {
      display: flex;
      gap: 30px;
      align-items: center;
      flex-wrap: wrap;
    }

    .maps iframe {
      width: min(560px, 90vw);
      height: 380px;
      border: 0;
      border-radius: 12px;
    }

    .inf {
      display: flex;
      flex-direction: column;
      gap: 26px;
      width: min(420px, 90vw);
    }

    .inf h2 {
      color: var(--amarelo-3);
      font-size: 16px;
      text-decoration: underline;
    }

    .inf p {
      color: #fff;
      line-height: 1.6;
    }

    .formEmail {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      flex-wrap: wrap;
    }

    .formulario {
      display: flex;
      flex-direction: column;
      background: var(--amarelo-3);
      color: #141e52;
      width: min(560px, 90vw);
      padding: 18px;
      border-radius: 20px 20px 0 20px;
      gap: 12px;
    }

    .formulario h1 {
      font-size: 24px;
      color: #030d44;
    }

    .contForm {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .contForm input,
    .contForm textarea {
      border: none;
      padding: 12px;
      font-weight: 700;
      border-radius: 8px;
      font-family: inherit;
      color: #0f1a44;
    }

    .message {
      resize: none;
      min-height: 110px;
    }

    .containerButton {
      display: flex;
      justify-content: flex-end;
    }

    .amareloButton {
      background: var(--amarelo-3);
      border-radius: 50%;
      padding: 6px;
    }

    .contForm button {
      width: 50px;
      height: 50px;
      border: none;
      border-radius: 50%;
      background: var(--verde-2);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .contForm button:hover {
      filter: brightness(0.95);
    }

    .contForm button img {
      width: 110%;
    }

    /* =================== FOOTER =================== */
    footer {
      background: var(--preto);
      width: 100%;
      color: #fff;
      padding: 60px 0 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 28px;
    }

    .contFooter {
      width: min(1100px, 92vw);
      display: grid;
      grid-template-columns: 1.2fr 0.9fr 1.9fr;
      gap: 36px;
    }

    footer h1 {
      font-size: 20px;
      font-weight: 600;
    }

    footer p {
      font-size: 14px;
    }

    footer hr {
      background: var(--amarelo);
      height: 2px;
      border: none;
      width: 100px;
    }

    .atenCont,
    .endRedes {
      display: flex;
      flex-direction: column;
      gap: 26px;
    }

    .img-Contato {
      display: flex;
      gap: 8px;
    }

    .imgContato {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-right: 6px;
    }

    .imgContato img {
      width: 22px;
    }

    .InfContato {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .endRedes hr {
      width: 75px;
    }

    .imagensRedes {
      display: flex;
      gap: 10px;
    }

    .imagensRedes img {
      width: 30px;
    }

    .contDmApp {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .dom {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .dom h1 {
      font-size: 16px;
      color: var(--amarelo-2);
    }

    .dom h2 {
      font-size: 16px;
      font-weight: 700;
    }

    .dom hr {
      height: 56px;
      width: 2px;
      background: #fff;
      border: none;
    }

    .dom img {
      width: 220px;
    }

    .imgApp {
      display: flex;
      gap: 10px;
    }

    .imgApp img {
      width: 140px;
    }

    .appStore {
      height: 44px;
      margin-top: 6px;
    }

    .direitosAutorais {
      text-transform: uppercase;
      font-size: 12px;
      opacity: 0.9;
    }

    .direitosAutorais a {
      text-decoration: underline;
    }

    /* =================== MODAL =================== */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      z-index: 20;
    }

    .modal.open {
      display: flex;
    }

    .modal-content {
      background: #fff;
      color: #111;
      border-radius: 14px;
      padding: 20px;
      width: min(760px, 95vw);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
      height: 95%;
      overflow: auto;
    }

    .modal-btn-close {
      position: fixed;
    }

    .modal-close {
      display: flex;
      justify-content: flex-end;
      margin: -8px -8px 12px 0;
    }

    .modal-close button {
      background: #eee;
      border: none;
      border-radius: 8px;
      padding: 6px 10px;
      font-weight: 800;
    }

    /* =================== COOKIES =================== */
    #cookie-banner {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 20px;
      width: min(780px, 92vw);
      background: var(--verde-2);
      color: #fff;
      padding: 10px 14px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      gap: 14px;
      z-index: 50;
    }

    #accept-cookies {
      background: var(--amarelo-2);
      color: #000;
      border: none;
      padding: 6px 16px;
      border-radius: 999px;
      font-weight: 800;
    }

    #accept-cookies:hover {
      background: #c78f00;
    }

    /* ===== Planos CTA ===== */
    .planos-cta {
      width: min(1100px, 92vw);
      background: #fff;
      color: #141e52;
      border-radius: 16px;
      padding: 18px;
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 12px;
    }

    .planos-cta p {
      margin: 0;
    }

    .btn-recommender,
    .btn-primary,
    .btn-secondary {
      border: none;
      border-radius: 999px;
      padding: 12px 18px;
      font-weight: 900;
      cursor: pointer;
    }

    .btn-recommender,
    .btn-primary {
      background: var(--amarelo-3);
      color: #111;
    }

    .btn-primary:hover,
    .btn-recommender:hover {
      background: #c78f00;
    }

    .btn-secondary {
      background: #e6e6e6;
      color: #111;
    }

    .btn-secondary:hover {
      filter: brightness(0.95);
    }

    .plans-form .fld {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 12px;
    }

    .plans-form .fld.two {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .plans-form input,
    .plans-form select {
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      padding: 10px;
      font: inherit;
    }

    .plans-form .extras {
      border: 1px dashed rgba(0, 0, 0, 0.2);
      border-radius: 12px;
      padding: 10px 12px;
      margin-bottom: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px 18px;
    }

    .plans-form .extras legend {
      padding: 0 6px;
    }

    .stack {
      display: grid;
      gap: 12px;
    }

    .plan-card {
      background: #f6f8ff;
      color: #0f1a44;
      border-radius: 14px;
      padding: 16px;
      border: 1px solid #dfe6ff;
    }

    .plan-card h4 {
      margin: 0 0 6px;
    }

    .plan-meta {
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 8px;
    }

    .plan-mods {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .plan-mods .tag {
      background: #fff;
      border: 1px solid #dfe6ff;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
    }

    #plansModal .actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 12px;
    }

    /* =================== RESPONSIVO =================== */
    @media (max-width: 980px) {
      header.menu-global {
        border-radius: 0;
      }

      .menu-links {
        position: absolute;
        left: 0;
        right: 0;
        top: 100%;
        background: rgba(0, 5, 30, 0.98);
        backdrop-filter: blur(6px);
        display: none;
        /* fechado por padrão */
        flex-direction: column;
        padding: 12px 16px;
        gap: 12px;
        border-radius: 0 0 16px 16px;
        border-top: 1px solid rgba(255, 255, 255, 0.08);
      }

      .menu-links.open {
        display: flex;
        /* abre quando .open */
      }

      /* suporte inline aparece dentro do menu mobile */
      .menu-links>a.suporte-inline {
        display: block;
      }

      .menu-toggle {
        display: flex;
      }

      .menu .logo {
        display: none;
      }

      .menu {
        flex-direction: column;
        gap: 10px;
      }

      .serv {
        margin-top: -4vh;
      }

      .vetorAm {
        display: none;
      }

      .contFooter {
        grid-template-columns: 1fr;
      }

      .menu .suporte-wrapper {
        display: none;
      }

      nav.menu {
        display: grid;
        grid-template-columns: auto 1fr auto;
        /* logo | espaço | hambúrguer */
        align-items: center;
      }

      .brand {
        grid-column: 1;
        /* esquerda */
        justify-self: start;
      }

      .hamburger {
        display: block;
        grid-column: 3;
        /* direita */
        justify-self: end;
      }

      .planos-cta {
        grid-template-columns: 1fr;
        gap: 10px;
      }

      .plans-form .fld.two {
        grid-template-columns: 1fr;
      }
    }

    .menu-links.open {
      display: flex;
    }

    /* Desktop: mostra botão de suporte fixo à direita */
    @media (min-width: 981px) {
      .menu .suporte-wrapper {
        display: block;
      }

      /* remove o último <a><button class="suporte"></button></a> da UL no desktop */
      .menu-links>a.suporte-inline {
        display: none;
      }
    }
  </style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=formularioTrabalhe" height="0" width="0"
      style="display: none; visibility: hidden"></iframe>
  </noscript>

  <div class="parceiros"></div>
  <div class="parceirosButton">
    <a href="sejaRepresentante.html"><button>Seja um representante comercial!</button></a>
  </div>

  <!-- ===== Header / Menu ===== -->
  <header class="menu-global">
    <nav class="menu" aria-label="Menu principal">
      <!-- Logo à esquerda -->
      <a class="brand" href="#inicio" aria-label="Início">
        <img src="Images/Logo Clara.png" alt="Dominus Software" />
      </a>

      <!-- Botão hamburguer (mobile) -->
      <button class="hamburger" aria-expanded="false" aria-controls="menuLinks" aria-label="Abrir menu">
        ☰
      </button>

      <!-- Links centrais -->
      <ul class="menu-links" id="menuLinks">
        <li><a href="#inicio" class="links">Início</a></li>
        <li><a href="#servicos" class="links">Serviços</a></li>
        <li><a href="#planos" class="links">Planos</a></li>
        <li><a href="#contato" class="links">Contato</a></li>
        <li><a href="faq.html" class="links">FAQ</a></li>

        <!-- Suporte inline (só mobile) -->
        <a class="suporte-inline" href="https://wa.me/554334723530?text=Ol%C3%A1%21%21+Estou+precisando+de+suporte%21"
          target="_blank" rel="noopener">
          <button class="suporte">Suporte</button>
        </a>
      </ul>

      <!-- Botão Suporte fixo (desktop, direita) -->
      <div class="suporte-wrapper">
        <a href="https://wa.me/554334723530?text=Ol%C3%A1%21%21+Estou+precisando+de+suporte%21" target="_blank"
          rel="noopener">
          <button class="suporte" aria-label="Abrir suporte via WhatsApp">
            Suporte
          </button>
        </a>
      </div>
    </nav>
  </header>

  <!-- ===== Hero ===== -->
  <section id="inicio" aria-label="Abertura do site">
    <div class="slogan">
      <h1>
        Mais <span class="destaque">velocidade</span>, menos fricção: a
        <span class="tec">tecnologia</span> que
        <span class="destaque">gera resultados</span> no seu negócio.
      </h1>
    </div>

    <main class="cont-inicio">
      <img src="Images/eb6093c8f2674a318b28aebdfd012ed9.png" alt="Solução Dominus em uso" />
      <div class="frase">
        <p class="readable">
          Em um mercado onde muitos softwares complicam o que deveria ser
          simples, a Dominus Software tem um propósito claro:
          <span class="destaque">simplificar a operação</span> para que você
          foque no que importa —
          <span class="destaque">vender mais e melhor</span>.
        </p>
        <a class="contate" target="_blank" rel="noopener"
          href="https://api.whatsapp.com/send?phone=554334723530&text=Ol%C3%A1,%20vim%20do%20site,%20gostaria%20de%20saber%20mais%20sobre%20o%20seu%20sistema!">
          <button>Contate-nos &raquo;</button>
        </a>
      </div>
    </main>

    <h2 class="saberMais muted">Deslize para saber mais</h2>
    <div class="seta"><img src="Images/seta-para-baixo.png" alt="" /></div>
  </section>

  <!-- Destaques -->
  <article class="serv" aria-label="Destaques">
    <section class="PrePago">
      <img class="icone" src="Images/fa6-solid_money-bill-trend-up.png" alt="" />
      <p class="readable">
        <span class="destaque">Pré-pago inteligente</span>: pague apenas
        quando usar no mês seguinte.
      </p>
    </section>
    <section class="Certif">
      <img class="icone" src="Images/certificado.png" alt="" />
      <p class="readable">
        Emissão de <span class="destaque">certificado digital</span> de forma
        remota e segura.
      </p>
    </section>
    <section class="Suport">
      <img class="icone" src="Images/24hrs.png" alt="" />
      <p class="readable">
        <span class="destaque">Suporte ágil</span> com atendimento imediato em
        horário comercial.
      </p>
    </section>
  </article>

  <!-- ===== Serviços ===== -->
  <section id="servicos" aria-label="Serviços">
    <div class="nossosServ">
      <h3 class="conhecaServ">Conheça nossos</h3>
      <h1 class="conServ">Serviços</h1>
    </div>

    <section class="descricaoServicos">
      <div class="contServ">
        <div class="box" role="list">
          <!-- PDV & Grades -->
          <div class="box-item" role="listitem"
            onclick="openModal('PDV e grades para supermercados, distribuidoras e conveniências. Controle de estoque, conferência por grade, códigos de barras, promoções e integração com balanças e TEF.')">
            <img class="iconServ" src="/Images/Online Store.png" alt="" />
            <h4>PDV & Grades</h4>
            <p>Vendas rápidas com grade, integração a TEF e balanças.</p>
          </div>

          <!-- Romaneio & Pesagens -->
          <div class="box-item" role="listitem"
            onclick="openModal('Romaneio e pesagens com rastreabilidade: entrada/saída, ticket de pesagem, integração com balança e relatórios operacionais.')">
            <img class="iconServ" src="/Images/Trailer Unloading.png" alt="" />
            <h4>Romaneio & Pesagens</h4>
            <p>Tickets, integração com balança e relatórios.</p>
          </div>

          <!-- Delivery & Cardápio -->
          <div class="box-item" role="listitem"
            onclick="openModal('Delivery e cardápio online: receba pedidos direto no sistema, gerencie taxa de entrega, tempos e áreas atendidas, com impressão automática.')">
            <img class="iconServ" src="/Images/Scooter.png" alt="" />
            <h4>Delivery & Cardápio</h4>
            <p>Pedidos online com impressão e gestão de entregas.</p>
          </div>

          <!-- OS Mecânicas & Hidráulicas -->
          <div class="box-item" role="listitem"
            onclick="openModal('Ordem de serviço para mecânicas, oficinas e hidráulicas: checklists, peças/serviços, fotos e aprovação do cliente.')">
            <img class="iconServ" src="/Images/Car Service.png" alt="" />
            <h4>OS Mecânicas</h4>
            <p>Checklist, peças/serviços e aprovação do cliente.</p>
          </div>

          <!-- OS Prestadores (TI etc.) -->
          <div class="box-item" role="listitem"
            onclick="openModal('Ordem de serviço para prestadores (TI, assistências técnicas): SLA, prioridade, apontamento de horas e histórico do cliente.')">
            <img class="iconServ" src="/Images/Worker Beard.png" alt="" />
            <h4>OS Prestadores</h4>
            <p>SLA, priorização e apontamento de horas.</p>
          </div>

          <!-- Lojas de Roupas & Moda -->
          <div class="box-item" role="listitem"
            onclick="openModal('Condicionais e vendas para moda e confecções: controle por variação (cor/tamanho), trocas, consignação e vitrine online.')">
            <img class="iconServ" src="/Images/Clothes on Sale.png" alt="" />
            <h4>Moda & Confecções</h4>
            <p>Variações (cor/tamanho), consignação e trocas.</p>
          </div>

          <!-- Comanda Eletrônica -->
          <div class="box-item" role="listitem"
            onclick="openModal('Comanda Eletrônica: garçom lança o pedido no app e a produção recebe automaticamente. Integração com cozinha/bar, impressão setorial e controle de mesas.')">
            <img class="iconServ" src="/Images/Restaurant Table.png" alt="" />
            <h4>Comanda Eletrônica</h4>
            <p>Pedidos ágeis com envio direto à produção.</p>
          </div>
        </div>
      </div>
    </section>
  </section>

  <div class="vetorAm" aria-hidden="true">
    <img src="/Images/Vector.png" alt="" />
  </div>

  <!-- ===== Planos ===== -->
  <!-- ===== Planos ===== -->
  <section id="planos" aria-label="Planos">
    <section class="tituloPl">
      <h1 class="plOpac">Plano ideal</h1>
      <h2 class="pltit">Descubra o melhor plano para sua empresa</h2>
    </section>

    <div class="contDiv">
      <section class="divisoria"></section>
    </div>

    <div class="planos-cta">
      <p>
        Em poucos passos, nós recomendamos o
        <strong>plano e o sistema</strong> que mais combinam com a sua
        operação (módulos, limites e recursos).
      </p>
      <button class="btn-recommender" id="openPlansModal">
        Verificar melhor plano para minha empresa &raquo;
      </button>
    </div>

    <section class="msgTeste">
      <img src="/Images/Medium Risk.png" alt="" />
      <p>
        Todos os planos contam com
        <strong>período de avaliação gratuito</strong>.
      </p>
    </section>
  </section>

  <!-- ===== Contato ===== -->
  <div class="contVetorAzul" aria-hidden="true">
    <img class="vetorAzul" src="/Images/VetorAzul.png" alt="" />
  </div>

  <section id="contato" aria-label="Contato">
    <section class="conteudoCont">
      <h1 class="titCont">Contate-nos</h1>

      <div class="infoForm">
        <section class="LocInf">
          <div class="maps" aria-label="Mapa">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3638.2536966739995!2d-51.686043625526544!3d-24.232904086605046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94ec3e29e1f18af3%3A0x599482a739e18549!2sR.%20Ataides%20Antunes%20de%20Proen%C3%A7a%2C%20305%20-%20Ivaipor%C3%A3%2C%20PR%2C%2086870-000!5e0!3m2!1spt-BR!2sbr!4v1689602760924!5m2!1spt-BR!2sbr"
              loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>

          <div class="inf">
            <div class="tel">
              <h2>Telefones</h2>
              <p>
                Fixo | WhatsApp: <b>+55 43 3472-3530</b><br />Vendas:
                <b>+55 43 9 9926-5753</b>
              </p>
            </div>
            <div class="end">
              <h2>Endereço</h2>
              <p>
                <b>R. Ataídes Antunes de Proença, 315 — Casa Grande III —
                  Ivaiporã/PR</b>
              </p>
            </div>
            <div class="email">
              <h2>E-mail</h2>
              <p>sistemadominus@gmail.com</p>
            </div>
          </div>
        </section>

        <div class="formEmail">
          <img src="/Images/email.png" alt="" aria-hidden="true" />
          <div class="formulario">
            <h1>Mande-nos um e-mail</h1>

            <form action="https://formsubmit.co/sistemadominus@gmail.com" method="POST" id="formEmail" data-form>
              <div class="contForm">
                <input type="text" name="nome" placeholder="Nome" id="nome" required />
                <input type="email" name="email" placeholder="E-mail" id="email" required />
                <textarea name="message" id="mensagem" placeholder="Mensagem" class="message" required></textarea>
                <div class="containerButton">
                  <div class="amareloButton">
                    <button type="submit" title="Enviar">
                      <img src="/Images/Enviar.png" alt="Enviar" />
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </section>

  <!-- ===== Footer ===== -->
  <footer aria-label="Rodapé">
    <div class="contFooter">
      <div class="atenCont">
        <div class="atendimento">
          <h1>Atendimento</h1>
          <hr />
          <p>Segunda a sexta — 8h às 18h</p>
          <p>Sábados — 8h às 12h</p>
          <p>Domingos e feriados — Fechado</p>
        </div>

        <div class="contato">
          <h1>Contato</h1>
          <hr />
          <div class="img-Contato">
            <div class="imgContato">
              <img src="/Images/Circled Envelope.png" alt="" />
              <img src="/Images/WhatsApp.png" alt="" />
              <img src="/Images/WhatsApp.png" alt="" />
            </div>
            <div class="InfContato">
              <p>sistemadominus@gmail.com</p>
              <p>+55 43 3472-3530</p>
              <p>+55 43 9 9926-5753</p>
            </div>
          </div>
        </div>
      </div>

      <div class="endRedes">
        <div class="endereco">
          <h1>Endereço</h1>
          <hr />
          <p>
            R. Ataídes Antunes de Proença, 315 — Casa Grande III — Ivaiporã/PR
          </p>
        </div>
        <div class="siga">
          <h1>Siga-nos</h1>
          <hr />
          <div class="imagensRedes">
            <a href="https://www.facebook.com/DominusSoftware" target="_blank" rel="noopener"><img
                src="/Images/Facebook.png" alt="Facebook" /></a>
            <a href="https://www.instagram.com/sistemasdominus/" target="_blank" rel="noopener"><img
                src="/Images/Instagram Circle.png" alt="Instagram" /></a>
            <a href="https://www.youtube.com/@dominussoftware6970" target="_blank" rel="noopener"><img
                src="/Images/YouTube Logo.png" alt="YouTube" /></a>
            <a href="https://www.linkedin.com/company/dominus-software-automa%C3%A7%C3%A3o/?viewAsMember=true"
              target="_blank" rel="noopener"><img src="/Images/LinkedIn Circled.png" alt="LinkedIn" /></a>
          </div>
        </div>
      </div>

      <div class="contDmApp">
        <div class="dom">
          <div class="cnpj">
            <h1>M. Dominus Software LTDA</h1>
            <h2>42.179.987/0001-49</h2>
          </div>
          <hr />
          <div class="logoFooter">
            <img src="/Images/Logotipo Clara 1.png" alt="Dominus Software" />
          </div>
        </div>
        <div class="Nossosapps">
          <h1>Nossos aplicativos</h1>
          <hr />
          <div class="imgApp">
            <img src="/Images/google 1.png" alt="Google Play" class="playStore" />
            <img src="/Images/apple 1.png" alt="App Store" class="appStore" />
          </div>
        </div>
      </div>
    </div>

    <p class="direitosAutorais">
      M. Dominus Software LTDA © 2023 — criado por
      <a href="index.html">Dominus Software</a>
    </p>
  </footer>

  <!-- ===== Modal ===== -->
  <div id="myModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-close">
        <button onclick="closeModal()" aria-label="Fechar">Fechar ✕</button>
      </div>
      <h3 id="modalTitle" style="margin-bottom: 8px">Serviço</h3>
      <div id="modalContent" class="readable"></div>
    </div>
  </div>

  <!-- ===== Modal Recomendador de Planos ===== -->
  <div id="plansModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="plansModalTitle"
    aria-hidden="true">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-close">
        <button class="modal-btn-close" type="button" onclick="closePlansModal()" aria-label="Fechar">
          Fechar ✕
        </button>
      </div>

      <div id="plansModalView">
        <!-- view "form" -->
        <div id="plansFormView">
          <h3 id="plansModalTitle" style="margin-bottom: 10px">
            Recomendação de plano
          </h3>
          <p class="readable" style="margin-bottom: 14px">
            Responda rapidamente para indicarmos o melhor sistema/plano para a
            sua realidade.
          </p>

          <form id="plansForm" class="plans-form" onsubmit="event.preventDefault(); handleSeePlans();">
            <!-- Quem é você -->
            <label class="fld">
              <span>Você é:</span>
              <select id="lead_role" required>
                <option value="">Selecione</option>
                <option value="dono">
                  Dono(a) / Representante da empresa
                </option>
                <option value="contador">
                  Contador(a) / Escritório contábil
                </option>
                <option value="sindicato">Sindicato / Associação</option>
              </select>
            </label>

            <!-- Nicho -->
            <label class="fld">
              <span>Nicho da empresa:</span>
              <select id="niche" required>
                <option value="">Selecione</option>
                <option value="produtor_rural">Produtor rural / Agro</option>
                <option value="agro_fiscal">
                  Agro (somente emissão fiscal p/ produtores)
                </option>
                <option value="loja_roupa">Loja de roupas / Moda</option>
                <option value="petshop">Petshop / Clínica veterinária</option>
                <option value="clinica_odonto">Clínica odontológica</option>
                <option value="clinica_estetica">Clínica de estética</option>
                <option value="mecanica">Mecânica / Oficina</option>
                <option value="restaurante">
                  Restaurante / Lanchonete / Bar
                </option>
                <option value="salao">Salão de beleza / Barbearia</option>
                <option value="ecommerce">E-commerce (Dom Shop)</option>
                <option value="servicos_ti">
                  Prestador de serviços (TI, assistência, etc.)
                </option>
                <option value="mercado">
                  Mercado / Supermercado / Conveniência
                </option>
                <option value="outros">Outros</option>
              </select>
            </label>

            <!-- Volume fiscal -->
            <label class="fld">
              <span>Emissão de documentos fiscais por mês (NFe + NFCe +
                NFSe):</span>
              <input id="docs_month" type="number" min="0" placeholder="ex.: 250" required />
            </label>

            <label class="fld">
              <span>Precisa de <b>Financeiro</b>?</span>
              <select id="need_fin">
                <option value="">Selecione</option>
                <option value="sim">Sim</option>
                <option value="nao">Não</option>
              </select>
            </label>

            <!-- Perguntas condicionais (render dinâmico) -->
            <div id="conditionalFields" class="stack"></div>

            <!-- Recursos extras gerais -->
            <fieldset class="extras">
              <legend>Recursos desejados</legend>
              <label><input type="checkbox" id="need_boleto" /> Boleto</label>
              <label><input type="checkbox" id="need_pedido_compra" /> Pedido de
                compra</label>
              <label><input type="checkbox" id="need_romaneio" />
                Romaneio/Pesagens</label>
              <label><input type="checkbox" id="need_os" /> Ordem de
                serviço</label>
              <label><input type="checkbox" id="need_producao" /> Produção</label>
              <label><input type="checkbox" id="need_cte" /> CTe/MDFe</label>
              <label><input type="checkbox" id="need_xml" /> Gerenciador
                XML</label>
            </fieldset>

            <div class="actions">
              <button type="submit" class="btn-primary">Ver planos</button>
            </div>
          </form>
        </div>

        <!-- view "resultado" -->
        <div id="plansResultView" style="display: none">
          <h3 style="margin-bottom: 10px">Plano recomendado</h3>
          <div id="recommendedCard" class="plan-card"></div>

          <div class="actions">
            <button class="btn-secondary" onclick="backToPlansForm()">
              Responder novamente
            </button>
            <a id="whatsCta" class="btn-primary" target="_blank" rel="noopener">Falar com especialista &raquo;</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Cookie Banner ===== -->
  <div id="cookie-banner" role="region" aria-live="polite">
    <p>
      Este site utiliza cookies para melhorar sua experiência. Aceite para
      continuar navegando.
    </p>
    <button id="accept-cookies" type="button">Aceitar</button>
  </div>

  <!-- =================== JS =================== -->
  <script>
    // Toggle menu (mobile)
    (function () {
      const hamburger = document.querySelector(".hamburger");
      const links = document.getElementById("menuLinks");

      function closeMenu() {
        links.classList.remove("open");
        hamburger?.setAttribute("aria-expanded", "false");
      }

      hamburger?.addEventListener("click", (e) => {
        const isOpen = links.classList.toggle("open");
        hamburger.setAttribute("aria-expanded", String(isOpen));
      });

      // Fecha ao clicar em um link
      links?.querySelectorAll("a").forEach((a) => {
        a.addEventListener("click", closeMenu);
      });

      // Fecha ao redimensionar para desktop
      window.addEventListener("resize", () => {
        if (window.innerWidth > 980) closeMenu();
      });
    })();

    // Modal simples
    function openModal(texto) {
      const modal = document.getElementById("myModal");
      const content = document.getElementById("modalContent");
      content.innerHTML = "<p>" + (texto || "") + "</p>";
      modal.classList.add("open");
      modal.setAttribute("aria-hidden", "false");
    }
    function closeModal() {
      const modal = document.getElementById("myModal");
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden", "true");
    }
    document.getElementById("myModal")?.addEventListener("click", closeModal);

    // Cookie banner
    (function () {
      const banner = document.getElementById("cookie-banner");
      const btn = document.getElementById("accept-cookies");
      const key = "dominus.cookies.accepted";
      if (localStorage.getItem(key) === "1") banner.style.display = "none";
      btn.addEventListener("click", () => {
        localStorage.setItem(key, "1");
        banner.style.display = "none";
      });
    })();

    // Abre/fecha modal de planos
    const plansModal = document.getElementById("plansModal");
    function openPlansModal() {
      plansModal.classList.add("open");
      plansModal.setAttribute("aria-hidden", "false");
    }
    function closePlansModal() {
      plansModal.classList.remove("open");
      plansModal.setAttribute("aria-hidden", "true");
    }
    document
      .getElementById("openPlansModal")
      ?.addEventListener("click", openPlansModal);
    plansModal?.addEventListener("click", (e) => {
      if (e.target === plansModal) closePlansModal();
    });

    // Campos
    const roleSel = document.getElementById("lead_role");
    const nicheSel = document.getElementById("niche");
    const docsMonth = document.getElementById("docs_month");
    const needFin = document.getElementById("need_fin");

    const conditional = document.getElementById("conditionalFields");

    // Resultado views
    const formView = document.getElementById("plansFormView");
    const resultView = document.getElementById("plansResultView");
    const recCard = document.getElementById("recommendedCard");
    const whatsCta = document.getElementById("whatsCta");

    function backToPlansForm() {
      resultView.style.display = "none";
      formView.style.display = "";
    }

    // ====== PLANS (corrigido) ======
    const plans = [
      {
        id: 1,
        type: "Mei",
        limit_nfe_mounth: 15,
        system: "Dom Web",
        modules: [
          "NFe",
          "NFSe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Produção",
          "Ordem de serviço",
          "Financeiro",
          "Sped Fiscal",
        ],
      },
      {
        id: 2,
        type: "Contador",
        limit_nfe_mounth: 10,
        system: "Dom Web",
        modules: [
          "NFe",
          "NFSe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "CTE",
          "Sped Fiscal",
          "MDFe",
          "CTe OS",
        ],
      },
      {
        id: 3,
        type: "Básico",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Web",
        modules: [
          "NFe",
          "NFSe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "CTE",
          "Sped Fiscal",
          "MDFe",
          "CTe OS",
          "Gerenciador XML",
        ],
      },
      {
        id: 4,
        type: "Intermediário",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Web",
        modules: [
          "NFe",
          "NFSe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "CTE",
          "Sped Fiscal",
          "MDFe",
          "CTe OS",
          "Gerenciador XML",
          "Produção",
          "Ordem de serviço",
          "Financeiro",
          "Contrato",
          "Romaneio",
        ],
      },
      {
        id: 5,
        type: "Avançado",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Web",
        modules: [
          "NFe",
          "NFSe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "CTE",
          "Sped Fiscal",
          "MDFe",
          "CTe OS",
          "Gerenciador XML",
          "Produção",
          "Ordem de serviço",
          "Financeiro",
          "Contrato",
          "Romaneio",
          "Pedido de compra",
          "Boleto",
          "Averbação",
        ],
      },
      {
        id: 6,
        type: "Premium",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Web",
        modules: [
          "NFe",
          "NFSe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "CTE",
          "Sped Fiscal",
          "MDFe",
          "CTe OS",
          "Gerenciador XML",
          "Produção",
          "Ordem de serviço",
          "Financeiro",
          "Contrato",
          "Romaneio",
          "Pedido de compra",
          "Boleto",
          "Averbação",
          "Sped Contribuições",
        ],
      },

      {
        id: 7,
        type: "Light",
        limit_nfe_mounth: 40,
        system: "Dom Agro",
        modules: [
          "NFe",
          "CTE",
          "MDFe",
          "Cadastro",
          "Relatórios",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
        ],
      },
      {
        id: 8,
        type: "Básico",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Agro",
        modules: [
          "NFe",
          "CTE",
          "MDFe",
          "Cadastro",
          "Relatórios",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
        ],
      },
      {
        id: 9,
        type: "Intermediário",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Agro",
        modules: [
          "NFe",
          "CTE",
          "MDFe",
          "Cadastro",
          "Relatórios",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Livro Caixa do PR",
          "Financeiro",
          "Produção",
          "Pedido de compra",
          "Romaneio",
        ],
      },
      {
        id: 10,
        type: "Avançado",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Agro",
        modules: [
          "NFe",
          "CTE",
          "MDFe",
          "Cadastro",
          "Relatórios",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Livro Caixa do PR",
          "Financeiro",
          "Produção",
          "Pedido de compra",
          "Romaneio",
          "Boleto",
        ],
      },

      {
        id: 11,
        type: "A30",
        limit_nfe_mounth: 30,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 12,
        type: "A60",
        limit_nfe_mounth: 60,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 13,
        type: "A160",
        limit_nfe_mounth: 160,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 14,
        type: "A260",
        limit_nfe_mounth: 260,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 15,
        type: "A560",
        limit_nfe_mounth: 560,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 16,
        type: "A900",
        limit_nfe_mounth: 900,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 17,
        type: "A1200",
        limit_nfe_mounth: 1200,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 18,
        type: "A2200",
        limit_nfe_mounth: 2200,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 19,
        type: "A3200",
        limit_nfe_mounth: 3200,
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },
      {
        id: 20,
        type: "Ilimitado",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Agro Fiscal",
        modules: ["NFe", "Cadastro", "Cadastro de produtores rurais"],
      },

      {
        id: 21,
        type: "Básico",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Food",
        modules: [
          "NFe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Produção",
          "Pedido de venda",
          "Controle de mesas",
          "Controle de comandas",
          "Controle do entregador",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Touch Screen",
          "Gerador de Relatórios",
          "Sped Fiscal",
        ],
      },
      {
        id: 22,
        type: "Intermediário",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Food",
        modules: [
          "NFe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Produção",
          "Pedido de venda",
          "Controle de mesas",
          "Controle de comandas",
          "Controle do entregador",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Touch Screen",
          "Gerador de Relatórios",
          "Financeiro",
          "Sped Fiscal",
        ],
      },
      {
        id: 23,
        type: "Avançado",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Food",
        modules: [
          "NFe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Produção",
          "Pedido de venda",
          "Controle de mesas",
          "Controle de comandas",
          "Controle do entregador",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Touch Screen",
          "Gerador de Relatórios",
          "Financeiro",
          "Boleto",
          "Pedido de compra",
          "Sped Fiscal",
        ],
      },
      {
        id: 24,
        type: "Premium",
        limit_nfe_mounth: "Ilimitado",
        system: "Dom Food",
        modules: [
          "NFe",
          "NFCe",
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Produção",
          "Pedido de venda",
          "Controle de mesas",
          "Controle de comandas",
          "Controle do entregador",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Touch Screen",
          "Gerador de Relatórios",
          "Financeiro",
          "Boleto",
          "Pedido de compra",
          "Sped Fiscal",
          "Sped Contribuições",
        ],
      },

      {
        id: 25,
        type: "Light",
        limit_professionals: 2,
        system: "Dom Clínicas",
        modules: [
          "Prontuário eletrônico",
          "Controle de agendas",
          "Controle de pacientes",
          "Personalização de receitas",
          "Personalização de atestados",
          "Controle de vendas",
          "Controle financeiro",
          "Emissão de relatórios",
          "Prescritor Memed",
        ],
      },
      {
        id: 26,
        type: "Básico",
        limit_professionals: 4,
        system: "Dom Clínicas",
        modules: [
          "Prontuário eletrônico",
          "Controle de agendas",
          "Controle de pacientes",
          "Personalização de receitas",
          "Personalização de atestados",
          "Controle de vendas",
          "Controle financeiro",
          "Emissão de relatórios",
          "Prescritor Memed",
        ],
      },
      {
        id: 27,
        type: "Intermediário",
        limit_professionals: 6,
        system: "Dom Clínicas",
        modules: [
          "Prontuário eletrônico",
          "Controle de agendas",
          "Controle de pacientes",
          "Personalização de receitas",
          "Personalização de atestados",
          "Controle de vendas",
          "Controle financeiro",
          "Emissão de relatórios",
          "Prescritor Memed",
        ],
      },
      {
        id: 28,
        type: "Avançado",
        limit_professionals: 8,
        system: "Dom Clínicas",
        modules: [
          "Prontuário eletrônico",
          "Controle de agendas",
          "Controle de pacientes",
          "Personalização de receitas",
          "Personalização de atestados",
          "Controle de vendas",
          "Controle financeiro",
          "Emissão de relatórios",
          "Prescritor Memed",
        ],
      },
      {
        id: 29,
        type: "Premium",
        limit_professionals: 9999,
        system: "Dom Clínicas",
        modules: [
          "Prontuário eletrônico",
          "Controle de agendas",
          "Controle de pacientes",
          "Personalização de receitas",
          "Personalização de atestados",
          "Controle de vendas",
          "Controle financeiro",
          "Emissão de relatórios",
          "Prescritor Memed",
        ],
      },

      {
        id: 30,
        type: "Light",
        limit_professionals: "1-4",
        system: "Dom Salões",
        modules: [
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Controle de comandas",
          "Controle de agenda",
          "Gerenciamento de comissões",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Sped Fiscal",
        ],
      },
      {
        id: 31,
        type: "Básico",
        limit_professionals: "5-10",
        system: "Dom Salões",
        modules: [
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Controle de comandas",
          "Controle de agenda",
          "Gerenciamento de comissões",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Link de Agendamento / QR Code",
          "NFe",
          "NFSe",
          "NFCe",
          "Gerenciador XML",
          "Sped Fiscal",
        ],
      },
      {
        id: 32,
        type: "Intermediário",
        limit_professionals: "11-20",
        system: "Dom Salões",
        modules: [
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Controle de comandas",
          "Controle de agenda",
          "Gerenciamento de comissões",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Link de Agendamento / QR Code",
          "NFe",
          "NFSe",
          "NFCe",
          "Gerenciador XML",
          "Financeiro",
          "Ordem de serviço",
          "Produção",
          "Sped Fiscal",
        ],
      },
      {
        id: 33,
        type: "Avançado",
        limit_professionals: "21-30",
        system: "Dom Salões",
        modules: [
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Controle de comandas",
          "Controle de agenda",
          "Gerenciamento de comissões",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Link de Agendamento / QR Code",
          "NFe",
          "NFSe",
          "NFCe",
          "Gerenciador XML",
          "Financeiro",
          "Ordem de serviço",
          "Produção",
          "Boleto",
          "Pedido de compra",
          "Sped Fiscal",
        ],
      },
      {
        id: 34,
        type: "Premium",
        limit_professionals: "30+",
        system: "Dom Salões",
        modules: [
          "Cadastro",
          "Relatórios",
          "Estoque",
          "Pedido de venda",
          "Controle de comandas",
          "Controle de agenda",
          "Gerenciamento de comissões",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Link de Agendamento / QR Code",
          "NFe",
          "NFSe",
          "NFCe",
          "Gerenciador XML",
          "Financeiro",
          "Ordem de serviço",
          "Produção",
          "Boleto",
          "Pedido de compra",
          "Sped Contribuições",
          "Sped Fiscal",
        ],
      },

      {
        id: 35,
        type: "Básico",
        limit_products: 50,
        system: "Dom Shop",
        modules: [
          "Subdomínio gratuito",
          "Certificado SSL gratuito",
          "Cadastro de produtos via XML",
          "Gerenciamento de clientes",
          "Relatório de vendas",
          "Gerenciamento das etapas de venda",
          "Temas gratuitos",
          "Checkout transparente",
          "Mercado Pago",
          "Asaas",
          "PagBank",
        ],
      },
      {
        id: 36,
        type: "Intermediário",
        limit_products: 100,
        system: "Dom Shop",
        modules: [
          "Subdomínio gratuito",
          "Certificado SSL gratuito",
          "Cadastro de produtos via XML",
          "Gerenciamento de clientes",
          "Relatório de vendas",
          "Gerenciamento das etapas de venda",
          "Pedidos manuais",
          "Temas gratuitos",
          "Integração WhatsApp",
          "Integração Mercado Livre",
          "Checkout transparente",
          "Pagamento local",
          "Mercado Pago",
          "Asaas",
          "PagBank",
          "Melhor Envio",
          "Integração Dom Web",
        ],
      },
      {
        id: 37,
        type: "Avançado",
        limit_products: 200,
        system: "Dom Shop",
        modules: [
          "Subdomínio gratuito",
          "Certificado SSL gratuito",
          "Cadastro de produtos via XML",
          "Gerenciamento de clientes",
          "Relatório de vendas",
          "Gerenciamento das etapas de venda",
          "Pedidos manuais",
          "Temas gratuitos",
          "Integração WhatsApp",
          "Integração Mercado Livre",
          "Checkout transparente",
          "Pagamento local",
          "Mercado Pago",
          "Asaas",
          "PagBank",
          "Melhor Envio",
          "Integração Dom Web",
        ],
      },
      {
        id: 38,
        type: "Premium",
        limit_products: "Ilimitado",
        system: "Dom Shop",
        modules: [
          "Subdomínio gratuito",
          "Certificado SSL gratuito",
          "Cadastro de produtos via XML",
          "Gerenciamento de clientes",
          "Relatório de vendas",
          "Gerenciamento das etapas de venda",
          "Pedidos manuais",
          "Temas gratuitos",
          "Integração WhatsApp",
          "Integração Mercado Livre",
          "Checkout transparente",
          "Pagamento local",
          "Mercado Pago",
          "Asaas",
          "PagBank",
          "Melhor Envio",
          "Integração Dom Web",
        ],
      },

      {
        id: 39,
        type: "Básico",
        limit_professionals: "<=10",
        system: "Dom Pet",
        modules: [
          "NFe",
          "NFCe",
          "NFSe",
          "Cadastros gerais",
          "Controle de agenda",
          "Controle de estoque",
          "Gerenciamento de vendas",
          "Prontuário eletrônico",
          "Anamnese",
          "Relatórios",
          "Personalização de receitas",
          "Controle de atendimento",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Sped Fiscal",
        ],
      },
      {
        id: 40,
        type: "Intermediário",
        limit_professionals: "11-20",
        system: "Dom Pet",
        modules: [
          "NFe",
          "NFCe",
          "NFSe",
          "Cadastros gerais",
          "Controle de agenda",
          "Controle de estoque",
          "Gerenciamento de vendas",
          "Prontuário eletrônico",
          "Anamnese",
          "Relatórios",
          "Personalização de receitas",
          "Controle de atendimento",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Controle Financeiro",
          "Sped Fiscal",
        ],
      },
      {
        id: 41,
        type: "Avançado",
        limit_professionals: "21-30",
        system: "Dom Pet",
        modules: [
          "NFe",
          "NFCe",
          "NFSe",
          "Cadastros gerais",
          "Controle de agenda",
          "Controle de estoque",
          "Gerenciamento de vendas",
          "Prontuário eletrônico",
          "Anamnese",
          "Relatórios",
          "Personalização de receitas",
          "Controle de atendimento",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Controle Financeiro",
          "Boleto",
          "Pedido de compra",
          "Sped Fiscal",
        ],
      },
      {
        id: 42,
        type: "Premium",
        limit_professionals: "30+",
        system: "Dom Pet",
        modules: [
          "NFe",
          "NFCe",
          "NFSe",
          "Cadastros gerais",
          "Controle de agenda",
          "Controle de estoque",
          "Gerenciamento de vendas",
          "Prontuário eletrônico",
          "Anamnese",
          "Relatórios",
          "Personalização de receitas",
          "Controle de atendimento",
          "Gerenciador XML",
          "Orçamento",
          "Gestão de Documentos",
          "Gerador de Relatórios",
          "Controle Financeiro",
          "Boleto",
          "Pedido de compra",
          "Sped Contribuições",
          "Sped Fiscal",
        ],
      },
    ];

    // ===== Render dinâmico de perguntas condicionais por nicho =====
    function renderConditional() {
      const niche = nicheSel.value;
      conditional.innerHTML = "";

      const add = (html) => {
        const wrap = document.createElement("div");
        wrap.className = "fld";
        wrap.innerHTML = html;
        conditional.appendChild(wrap);
      };

      if (niche === "clinica_odonto" || niche === "clinica_estetica") {
        add(`<label><span>Nº de profissionais (clínica)</span>
           <input id="clin_prof" type="number" min="1" placeholder="ex.: 3" required></label>`);
      }
      if (niche === "salao") {
        add(`<label><span>Nº de profissionais (salão)</span>
           <input id="salao_prof" type="number" min="1" placeholder="ex.: 8" required></label>`);
      }
      if (niche === "petshop") {
        add(`<label><span>Nº de profissionais (pet)</span>
           <input id="pet_prof" type="number" min="1" placeholder="ex.: 12" required></label>`);
      }
      if (niche === "ecommerce") {
        add(`<label><span>Quantidade de produtos</span>
           <input id="shop_products" type="number" min="1" placeholder="ex.: 120" required></label>`);
      }
      if (niche === "restaurante") {
        add(`<fieldset class="extras"><legend>Operação</legend>
            <label><input id="has_mesas" type="checkbox"> Mesas/Salão</label>
            <label><input id="has_comandas" type="checkbox"> Comandas</label>
            <label><input id="has_delivery" type="checkbox"> Delivery/Entregador</label>
          </fieldset>`);
      }
      if (niche === "produtor_rural") {
        add(`<fieldset class="extras"><legend>Agro</legend>
            <label><input id="agro_livro_caixa" type="checkbox"> Livro Caixa do PR</label>
            <label><input id="agro_romaneio" type="checkbox"> Romaneio/Pesagens</label>
            <label><input id="agro_producao" type="checkbox"> Produção</label>
          </fieldset>`);
      }

      if (niche === "mecanica" || niche === "servicos_ti") {
        add(`<fieldset class="extras"><legend>Serviços</legend>
            <label><input id="svc_os" type="checkbox"> Ordem de serviço</label>
            <label><input id="svc_pecas" type="checkbox"> Estoque/Peças</label>
          </fieldset>`);
      }
      if (
        niche === "loja_roupa" ||
        niche === "mercado" ||
        niche === "outros"
      ) {
        add(`<fieldset class="extras"><legend>Operação</legend>
            <label><input id="op_nfce" type="checkbox"> Precisa de NFCe (PDV)</label>
            <label><input id="op_cte" type="checkbox"> Precisa CTe/MDFe</label>
            <label><input id="op_romaneio" type="checkbox"> Romaneio</label>
          </fieldset>`);
      }
    }
    nicheSel.addEventListener("change", renderConditional);

    // ===== Lógica de recomendação =====
    function pickAgroFiscalPlan(n) {
      const options = plans.filter((p) => p.system === "Dom Agro Fiscal");
      if (!n || isNaN(n)) return options.find((p) => p.type === "A30");
      const thresholds = [30, 60, 160, 260, 560, 900, 1200, 2200, 3200];
      for (let i = 0; i < thresholds.length; i++) {
        if (n <= thresholds[i])
          return options.find(
            (p) => String(p.limit_nfe_mounth) === String(thresholds[i])
          );
      }
      return options.find((p) => p.type === "Ilimitado");
    }

    function pickClinicas(prof) {
      const n = Number(prof || 0);
      if (n <= 2)
        return plans.find(
          (p) => p.system === "Dom Clínicas" && p.type === "Light"
        );
      if (n <= 4)
        return plans.find(
          (p) => p.system === "Dom Clínicas" && p.type === "Básico"
        );
      if (n <= 6)
        return plans.find(
          (p) => p.system === "Dom Clínicas" && p.type === "Intermediário"
        );
      if (n <= 8)
        return plans.find(
          (p) => p.system === "Dom Clínicas" && p.type === "Avançado"
        );
      return plans.find(
        (p) => p.system === "Dom Clínicas" && p.type === "Premium"
      );
    }

    function pickSalao(prof) {
      const n = Number(prof || 0);
      if (n <= 4)
        return plans.find(
          (p) => p.system === "Dom Salões" && p.type === "Light"
        );
      if (n <= 10)
        return plans.find(
          (p) => p.system === "Dom Salões" && p.type === "Básico"
        );
      if (n <= 20)
        return plans.find(
          (p) => p.system === "Dom Salões" && p.type === "Intermediário"
        );
      if (n <= 30)
        return plans.find(
          (p) => p.system === "Dom Salões" && p.type === "Avançado"
        );
      return plans.find(
        (p) => p.system === "Dom Salões" && p.type === "Premium"
      );
    }

    function pickPet(prof) {
      const n = Number(prof || 0);
      if (n <= 10)
        return plans.find(
          (p) => p.system === "Dom Pet" && p.type === "Básico"
        );
      if (n <= 20)
        return plans.find(
          (p) => p.system === "Dom Pet" && p.type === "Intermediário"
        );
      if (n <= 30)
        return plans.find(
          (p) => p.system === "Dom Pet" && p.type === "Avançado"
        );
      return plans.find(
        (p) => p.system === "Dom Pet" && p.type === "Premium"
      );
    }

    function pickShop(products) {
      const n = Number(products || 0);
      if (n <= 50)
        return plans.find(
          (p) => p.system === "Dom Shop" && p.type === "Básico"
        );
      if (n <= 100)
        return plans.find(
          (p) => p.system === "Dom Shop" && p.type === "Intermediário"
        );
      if (n <= 200)
        return plans.find(
          (p) => p.system === "Dom Shop" && p.type === "Avançado"
        );
      return plans.find(
        (p) => p.system === "Dom Shop" && p.type === "Premium"
      );
    }

    function pickDomWebByExtras({
      needFin,
      needBoleto,
      needPedidoCompra,
      needCTE,
      needXML,
      needProducao,
      needOS,
      needRomaneio,
      docsMonth,
    }) {
      // quanto mais recursos / volume, mais alto o plano
      let score = 0;
      if (needFin) score += 2;
      if (needBoleto) score += 1;
      if (needPedidoCompra) score += 1;
      if (needCTE) score += 2;
      if (needXML) score += 1;
      if (needProducao) score += 2;
      if (needOS) score += 2;
      if (needRomaneio) score += 1;
      if (Number(docsMonth || 0) > 200) score += 1;

      if (score <= 1)
        return plans.find(
          (p) => p.system === "Dom Web" && p.type === "Básico"
        );
      if (score <= 3)
        return plans.find(
          (p) => p.system === "Dom Web" && p.type === "Intermediário"
        );
      if (score <= 6)
        return plans.find(
          (p) => p.system === "Dom Web" && p.type === "Avançado"
        );
      return plans.find(
        (p) => p.system === "Dom Web" && p.type === "Premium"
      );
    }

    function pickDomAgroByExtras({
      livroCaixa,
      romaneio,
      producao,
      needFin,
      needBoleto,
      needPedidoCompra,
    }) {
      let score = 0;
      if (livroCaixa) score += 2;
      if (romaneio) score += 2;
      if (producao) score += 2;
      if (needFin) score += 1;
      if (needBoleto) score += 1;
      if (needPedidoCompra) score += 1;

      if (score <= 1)
        return plans.find(
          (p) => p.system === "Dom Agro" && p.type === "Básico"
        );
      if (score <= 3)
        return plans.find(
          (p) => p.system === "Dom Agro" && p.type === "Intermediário"
        );
      return plans.find(
        (p) => p.system === "Dom Agro" && p.type === "Avançado"
      );
    }

    function pickDomFood({
      delivery,
      mesas,
      comandas,
      needFin,
      needBoleto,
      needPedidoCompra,
    }) {
      let score = 0;
      if (mesas) score += 1;
      if (comandas) score += 1;
      if (delivery) score += 1;
      if (needFin) score += 1;
      if (needBoleto) score += 1;
      if (needPedidoCompra) score += 1;

      if (score <= 1)
        return plans.find(
          (p) => p.system === "Dom Food" && p.type === "Básico"
        );
      if (score <= 3)
        return plans.find(
          (p) => p.system === "Dom Food" && p.type === "Intermediário"
        );
      if (score <= 5)
        return plans.find(
          (p) => p.system === "Dom Food" && p.type === "Avançado"
        );
      return plans.find(
        (p) => p.system === "Dom Food" && p.type === "Premium"
      );
    }

    function handleSeePlans() {
      const data = {
        role: roleSel.value,
        niche: nicheSel.value,
        docsMonth: Number(docsMonth.value || 0),
        needFin: needFin.value === "sim",
        needBoleto: document.getElementById("need_boleto").checked,
        needPedidoCompra:
          document.getElementById("need_pedido_compra").checked,
        needRomaneio: document.getElementById("need_romaneio").checked,
        needOS: document.getElementById("need_os").checked,
        needProducao: document.getElementById("need_producao").checked,
        needCTE: document.getElementById("need_cte").checked,
        needXML: document.getElementById("need_xml").checked,
      };

      // condicionais
      const clinProf = document.getElementById("clin_prof")?.value;
      const salaoProf = document.getElementById("salao_prof")?.value;
      const petProf = document.getElementById("pet_prof")?.value;
      const shopProducts = document.getElementById("shop_products")?.value;
      const hasMesas = document.getElementById("has_mesas")?.checked;
      const hasComandas = document.getElementById("has_comandas")?.checked;
      const hasDelivery = document.getElementById("has_delivery")?.checked;
      const agroLivro = document.getElementById("agro_livro_caixa")?.checked;
      const agroRomaneio = document.getElementById("agro_romaneio")?.checked;
      const agroProducao = document.getElementById("agro_producao")?.checked;
      const agroFiscalNfe = Number(
        document.getElementById("agro_fiscal_nfe")?.value || 0
      );
      const opNfce = document.getElementById("op_nfce")?.checked;
      const opCte = document.getElementById("op_cte")?.checked;
      const opRom = document.getElementById("op_romaneio")?.checked;

      let recommended = null;

      // Regras rápidas por role
      if (data.role === "contador") {
        recommended = plans.find(
          (p) => p.system === "Dom Web" && p.type === "Contador"
        );
      } else if (data.role === "sindicato") {
        // Sindicatos de produtores rurais -> Dom Agro Fiscal (escala pelo volume)
        recommended = pickAgroFiscalPlan(agroFiscalNfe || data.docsMonth);
      }

      // Regras por nicho (se ainda não definido pelo role)
      if (!recommended) {
        switch (data.niche) {
          case "clinica_odonto":
          case "clinica_estetica":
            recommended = pickClinicas(clinProf);
            break;
          case "salao":
            recommended = pickSalao(salaoProf);
            break;
          case "petshop":
            recommended = pickPet(petProf);
            break;
          case "ecommerce":
            recommended = pickShop(shopProducts);
            break;
          case "restaurante":
            recommended = pickDomFood({
              delivery: hasDelivery,
              mesas: hasMesas,
              comandas: hasComandas,
              needFin: data.needFin,
              needBoleto: data.needBoleto,
              needPedidoCompra: data.needPedidoCompra,
            });
            break;
          case "produtor_rural":
            recommended = pickDomAgroByExtras({
              livroCaixa: agroLivro,
              romaneio: agroRomaneio,
              producao: agroProducao,
              needFin: data.needFin,
              needBoleto: data.needBoleto,
              needPedidoCompra: data.needPedidoCompra,
            });
            break;
          case "agro_fiscal":
            recommended = pickAgroFiscalPlan(agroFiscalNfe || data.docsMonth);
            break;
          case "loja_roupa":
          case "mercado":
          case "mecanica":
          case "servicos_ti":
          case "outros":
          default:
            recommended = pickDomWebByExtras({
              needFin: data.needFin,
              needBoleto: data.needBoleto,
              needPedidoCompra: data.needPedidoCompra,
              needCTE: data.needCTE || opCte,
              needXML: data.needXML,
              needProducao: data.needProducao,
              needOS: data.needOS,
              needRomaneio: data.needRomaneio || opRom,
              docsMonth: data.docsMonth,
            });
        }
      }

      // Fallback seguro
      if (!recommended) {
        recommended = plans.find(
          (p) => p.system === "Dom Web" && p.type === "Básico"
        );
      }

      // Render resultado
      renderRecommended(recommended, {
        role: data.role,
        niche: data.niche,
        docsMonth: data.docsMonth,
        extras: {
          fin: data.needFin,
          boleto: data.needBoleto,
          compra: data.needPedidoCompra,
          cte: data.needCTE,
          xml: data.needXML,
          prod: data.needProducao,
          os: data.needOS,
          rom: data.needRomaneio,
        },
        details: {
          clinProf,
          salaoProf,
          petProf,
          shopProducts,
          hasMesas,
          hasComandas,
          hasDelivery,
          agroLivro,
          agroRomaneio,
          agroProducao,
          agroFiscalNfe,
        },
      });
    }

    function renderRecommended(plan, answers) {
      formView.style.display = "none";
      resultView.style.display = "";

      const limit =
        plan.limit_nfe_mounth != null
          ? `Limite NFe/mês: ${plan.limit_nfe_mounth}`
          : plan.limit_professionals != null
            ? `Profissionais: ${plan.limit_professionals}`
            : plan.limit_products != null
              ? `Produtos: ${plan.limit_products}`
              : "";

      recCard.innerHTML = `
      <h4>${plan.system} — ${plan.type}</h4>
      <div class="plan-meta">${limit || ""}</div>
      <div class="plan-mods">
        ${plan.modules.map((m) => `<span class="tag">${m}</span>`).join("")}
      </div>
    `;

      const msg = encodeURIComponent(
        `Olá! Vi o plano recomendado no site.
Sistema: ${plan.system} — Plano: ${plan.type}
${limit ? limit + "\n" : ""}
Meu perfil: ${answers.role || "-"}
Nicho: ${answers.niche || "-"}
Docs fiscais/mês (total): ${answers.docsMonth || 0}
Extras: ${JSON.stringify(answers.extras)}
Detalhes: ${JSON.stringify(answers.details)}`
      );

      whatsCta.href = `https://wa.me/554334723530?text=${msg}`;
    }
  </script>
</body>

</html>